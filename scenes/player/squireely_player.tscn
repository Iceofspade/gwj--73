[gd_scene load_steps=6 format=3 uid="uid://b55kme0hh5rkf"]

[ext_resource type="Script" path="res://scenes/player/squireely_player.gd" id="1_krpre"]
[ext_resource type="Script" path="res://scenes/player/slow_motion_controller.gd" id="2_ran7m"]
[ext_resource type="Script" path="res://scenes/player/acorn_shooter.gd" id="3_kx4xu"]
[ext_resource type="PackedScene" uid="uid://cl3ykdjo4jpgr" path="res://scenes/projectile_acorn/projectile_acorn.tscn" id="4_qh8ma"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_rrojx"]
size = Vector2(32, 32)

[node name="Squireely player" type="CharacterBody2D"]
collision_layer = 2
script = ExtResource("1_krpre")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_rrojx")

[node name="Polygon2D" type="Polygon2D" parent="."]
color = Color(0.851968, 0.470541, 0.219523, 1)
polygon = PackedVector2Array(8, -8, 0, -15, -8, -8, -16, 0, -8, 8, -8, 16, 0, 10, 8, 16, 8, 8, 16, 0)

[node name="Polygon2D2" type="Polygon2D" parent="."]
position = Vector2(-15, -3)
color = Color(0.92549, 0.54902, 0.313726, 1)
polygon = PackedVector2Array(24, -16, 16, -24, 8, -16, 9, -6, 15, -9, 22, -6)

[node name="Polygon2D3" type="Polygon2D" parent="Polygon2D2"]
position = Vector2(-7, 0)
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(20, -16, 17, -17, 17, -14, 21, -14)

[node name="Polygon2D4" type="Polygon2D" parent="Polygon2D2"]
position = Vector2(38, 0)
rotation = 3.14159
scale = Vector2(1, -1)
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(20, -16, 17, -17, 17, -14, 21, -14)
metadata/_edit_group_ = true

[node name="RayCast2D" type="RayCast2D" parent="."]
position = Vector2(0, -11)
target_position = Vector2(1500, 0)
collision_mask = 0

[node name="gun" type="Node2D" parent="RayCast2D"]
rotation = -1.5708

[node name="Polygon2D8" type="Polygon2D" parent="RayCast2D/gun"]
position = Vector2(-18, 19)
color = Color(0.277528, 0.277528, 0.277528, 1)
polygon = PackedVector2Array(20, -17, 16, -17, 15, -14, 16, 6, 18, 7, 20, 6, 21, -14)
metadata/_edit_group_ = true

[node name="Polygon2D7" type="Polygon2D" parent="RayCast2D/gun"]
position = Vector2(-19, 17)
color = Color(0.501961, 0.313726, 0, 1)
polygon = PackedVector2Array(22, -16, 19, -17, 16, -16, 15, -14, 16, -12, 19, -11, 22, -12, 23, -14)
metadata/_edit_group_ = true

[node name="Polygon2D5" type="Polygon2D" parent="RayCast2D/gun"]
position = Vector2(-18, 19)
color = Color(0.556953, 0.556953, 0.556953, 1)
polygon = PackedVector2Array(18, -17, 16, -17, 15, -14, 16, 6, 18, 5)
metadata/_edit_group_ = true

[node name="Polygon2D6" type="Polygon2D" parent="RayCast2D/gun"]
position = Vector2(18, 19)
scale = Vector2(-1, 1)
color = Color(0.674815, 0.674815, 0.674815, 1)
polygon = PackedVector2Array(18, -17, 16, -17, 15, -14, 16, 6, 18, 5)
metadata/_edit_group_ = true

[node name="slow motion controler" type="Node2D" parent="."]
script = ExtResource("2_ran7m")

[node name="AcornShooter" type="Node2D" parent="." node_paths=PackedStringArray("_charge_timer", "_charge_progress_bar", "_avatar")]
script = ExtResource("3_kx4xu")
_charge_timer = NodePath("ChargeTimer")
_charge_progress_bar = NodePath("CanvasLayer/MarginContainer/ChargeProgressBar")
_avatar = NodePath("..")
_projectile_acorn_scene = ExtResource("4_qh8ma")

[node name="ChargeTimer" type="Timer" parent="AcornShooter"]
one_shot = true

[node name="CanvasLayer" type="CanvasLayer" parent="AcornShooter"]

[node name="MarginContainer" type="MarginContainer" parent="AcornShooter/CanvasLayer"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -50.0
offset_bottom = 100.0
grow_horizontal = 0
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 10

[node name="ChargeProgressBar" type="ProgressBar" parent="AcornShooter/CanvasLayer/MarginContainer"]
custom_minimum_size = Vector2(0, 50)
layout_mode = 2
max_value = 1.0
fill_mode = 3
show_percentage = false
